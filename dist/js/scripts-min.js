let pokemonRepository=function(){let h=[],i=document.querySelector(".loading-message-placeholder");function a(a){return fetch(a.detailsUrl).then(function(a){return a.json()}).then(function(b){a.imageUrl=b.sprites.other.dream_world.front_default,a.height=b.height,a.types=b.types}).catch(function(a){console.log(a)})}function b(){i.innerText="LOADING... Please wait..."}function c(){setTimeout(function(){i.innerText=""},1e3)}function d(){return h}function e(a){h.push(a)}function f(a){if("object"==typeof a)return e(a);alert("Pokemon not added, entered data shall be an Object")}function g(c){let d=$(".pokemon-list"),a=$('<div class="col-xl-3 col-lg-4 col-md-6"></div>'),b=$('<button type="button" class="btn-pokemon" data-toggle="modal" data-target="#ModalCenter">'+c.name+"</button>");a.append(b),d.append(a),b.on("click",function(){j(c)})}function j(b){a(b).then(function(){k(b)})}function k(a){var c;let b=$(".modal-body"),d=$(".modal-title");$(".modal-header"),d.empty(),b.empty();let g=$("<h1>"+a.name+"</h1>"),e=$('<img class="modal-img mx-auto d-block" style="width:70%">');e.attr("src",a.imageUrl);let f,h=$("<p>Height: "+a.height+"</p>"),i=$("<p>Types: "+(c=a.types,f="",c.forEach((a,b)=>{f+="["+a.type.name+"] "}),f)+"</p>");d.append(g),b.append(e),b.append(h),b.append(i)}return{getAll:d,add:e,addv:f,filterPokemon:function(b){let a=h.filter(a=>a.name.toLowerCase().includes(b));if(a.length>0){var c;$(".pokemon-list").empty(),console.log(a),a.forEach(function(a){console.log(a),g(a)})}else alert("No match found!")},addListItem:g,loadList:function(){return b(),fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function(a){return a.json()}).then(function(a){a.results.forEach(function(a){f({name:a.name,detailsUrl:a.url})}),c()}).catch(function(a){console.log(a)})},loadDetails:a,showLoadingMessage:b,hideLoadingMessage:c}}();function search(){let a=$("#user-pokemon-search-input").val();console.log(a),pokemonRepository.filterPokemon(a.toLowerCase()),$("#user-pokemon-search-input").val(""),$("#navbarSupportedContent").removeClass("show")}pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(a){return pokemonRepository.addListItem(a)})}),$("#search-button").on("click",search),$("#user-pokemon-search-input").on("keypress",function(a){"13"==a.which&&(a.preventDefault(),search())})
